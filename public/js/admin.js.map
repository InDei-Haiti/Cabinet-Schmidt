{"version":3,"sources":["admin-script.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"admin.js","sourcesContent":["//character module\n$(function(){$.fn.clearTextLimit=function(){return this.each(function(){this.onkeydown=this.onkeyup=null;});};$.fn.textLimit=function(limit,callback){if(typeof callback!=='function')var callback=function(){};return this.each(function(){this.limit=limit;this.callback=callback;this.onkeydown=this.onkeyup=function(){this.value=this.value.substr(0,this.limit);this.reached=this.limit-this.value.length;this.reached=(this.reached==0)?true:false;return this.callback(this.value.length,this.limit,this.reached);}});};});\n\n$(document).ready(function () {\n\n  //Character limit call\n  var character;\n  var value = $('#cabinet-article').val();\n  var limit = 255;\n  if(value != undefined){\n      if (value.length > 0 && value != undefined){\n        character = limit - value.length;\n        $('.count').text(character+' caractères restants');\n    }\n  }\n  $('#cabinet-article').textLimit(limit, function( length, limit, reached  ){\n    character = limit - length;\n    if(length == limit){\n      $('.count').text(character+' caractère restant');\n    }else{\n      $('.count').text(character+' caractères restants');\n    }\n  });\n\n    //Character limit call\n  var character2;\n  var value2 = $('#cabinet-article2').val();\n  var limit2 = 420;\n  if(value2 != undefined){\n      if (value2.length > 0 && value2 != undefined){\n        character2 = limit2 - value2.length;\n        $('.count2').text(character2+' caractères restants');\n    }\n  }\n  $('#cabinet-article2').textLimit(limit2, function( length2, limit2, reached2  ){\n    character2 = limit2 - length2;\n    if(length2 == limit2){\n      $('.count2').text(character2+' caractère restant');\n    }else{\n      $('.count2').text(character2+' caractères restants');\n    }\n  });\n\n  //Confirmation delete\n  $('.delete').click(function(){\n    if (!confirm(\"Êtes-vous sur de vouloir supprimer l'élément?\")) {\n      return false;\n    }\n  });\n\n  $('.add').click(function () {\n    var val = $('.to_add').val();\n    if(!val.length == 0){\n      $('.story__form ul').append('<li class=\"list__item\"><span>'+val+'</span><span class=\"delete\"><i class=\"material-icons\">clear</i></span></li>');\n      $('.story__form').append('<input type=\"hidden\" name=\"item[]\" value=\"'+val+'\"/>');\n      $('.to_add').val('');\n    }\n  })\n  if(window.location.href.indexOf(\"admin/storytelling/edit\")!==-1) {\n    $(document).on('click','.story__form .delete',function () {\n      var val = $(this).prev().text();\n      $('input[value=\"'+val+'\"]').remove();\n      $(this).parent().remove();\n    })\n    $(document).on('keydown',function (ev) {\n      var key = ev.keyCode || ev.which;\n      if(key==13) {\n        ev.preventDefault();\n      }\n    })\n    $('.to_add').on('keydown',function (ev) {\n      var key = ev.keyCode || ev.which;\n      if(key==13) {\n        var val = $(this).val();\n        $('.story__form ul').append('<li class=\"list__item\"><span>'+val+'</span><span class=\"delete\"><i class=\"material-icons\">clear</i></span></li>');\n        $('.story__form').append('<input type=\"hidden\" name=\"item[]\" value=\"'+val+'\"/>');\n        $('.to_add').val('');\n      }\n    })\n  }\n})"],"sourceRoot":"/source/"}